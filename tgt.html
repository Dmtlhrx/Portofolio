<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de Contact</title>

    <!-- Ajout de la bibliothèque EmailJS (version récente) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // Initialisation de EmailJS avec la clé publique
            emailjs.init("ye8goqksFfEm4Ie47"); // Remplacer par votre clé publique obtenue sur le tableau de bord EmailJS
        })();
    </script>
</head>
<body>
    <!-- Formulaire de contact -->
    <form id="contact-form">
        <!-- Champ caché avec un numéro de contact statique -->
        <input type="hidden" name="contact_number" value="697483">

        <!-- Nom de l'utilisateur -->
        <label for="user_name">Nom</label>
        <input type="text" name="user_name" id="user_name" required>

        <!-- E-mail de l'utilisateur -->
        <label for="user_email">Email</label>
        <input type="email" name="user_email" id="user_email" required>

        <!-- Message de l'utilisateur -->
        <label for="message">Message</label>
        <textarea name="message" id="message" required></textarea>

        <!-- Bouton d'envoi -->
        <input type="submit" value="Envoyer">
    </form>

    <!-- Script pour gérer l'envoi du formulaire -->
    <script type="text/javascript">
        window.onload = function() {
            // Ajout de l'événement 'submit' au formulaire
            document.getElementById('contact-form').addEventListener('submit', function(event) {
                event.preventDefault(); // Empêche le comportement par défaut de soumission du formulaire

                // Envoie du formulaire via EmailJS avec les IDs du service et du template
                emailjs.sendForm('service_i0mzd4o', 'template_rbiiil9', this)
                    .then(function(response) {
                        console.log('SUCCESS!', response.status, response.text); // Message de succès
                        alert('Message envoyé avec succès !');
                    }, function(error) {
                        console.log('FAILED...', error); // Message en cas d'échec
                        alert('Erreur lors de l\'envoi du message.');
                    });
            });
        }
    </script>
</body>
</html>
